<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Markdown ↔ HTML Converter</title>

  <!-- Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Markdown / HTML -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/turndown/dist/turndown.min.js"></script>

  <!-- Prism -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">

  <style>
    body {
      font-family: Inter, system-ui, sans-serif;
    }

    .code-font {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      font-size: 0.9rem;
      line-height: 1.6;
      tab-size: 2;
    }
  </style>
</head>
<body class="gradient-bg text-white min-h-screen flex flex-col">
  <!-- Top Nav -->
  <div class="absolute top-4 left-4 z-10">
    <a href="/md-html-converter/" class="bg-teal-300 text-blue-800 font-semibold px-4 py-2 rounded-xl shadow-md hover:shadow-lg transition-all flex items-center gap-2 hover:scale-105">
      <i class="fas fa-arrow-left"></i>
      <span>Back</span>
    </a>
  </div>

  <!-- Main Container -->
  <div class="max-w-6xl mx-auto mt-20 px-6 flex-grow">
    <!-- Title -->
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">
        Convert Your Code With <span class="text-teal-300">Markdown ↔ HTML</span>
      </h1>
      <p class="text-blue-100 max-w-2xl mx-auto text-lg">
        Convert between Markdown and HTML formats instantly. Perfect for developers, writers, and content creators.
      </p>
    </div>

<body class="bg-neutral-950 text-neutral-100 min-h-screen flex flex-col">
  <nav class="fixed top-0 left-0 right-0 z-50 bg-neutral-950/80 backdrop-blur border-b border-neutral-800 px-6 py-4 mb-36">
    <div class="max-w-6xl mx-auto flex items-center justify-between">
      <span class="text-sm font-medium text-neutral-200">Markdown ↔ HTML</span>
      <div class="flex gap-3">
        <a href="/md-html-converter/index.html"
           class="bg-white text-black text-sm font-medium px-4 py-2 rounded-full hover:opacity-90 transition">
          ← Home
        </a>
        <a href="https://github.com/"
           class="border border-neutral-700 text-neutral-300 text-sm font-medium px-4 py-2 rounded-full hover:bg-neutral-900 transition">
          Star on GitHub
        </a>
      </div>
    </div>
  </nav>

  <!-- MAIN -->
  <main class="flex-1 pt-24 px-6 py-8 text-center">

    <div class="flex justify-start gap-3 mb-6 max-w-6xl mx-auto">
      <p>Convert From:</p>
      <select id="convertDirection"
        class="bg-neutral-900 border border-neutral-800 rounded-lg px-3 py-1 text-sm focus:outline-none">
        <option value="md-to-html">Markdown → HTML</option>
        <option value="html-to-md">HTML → Markdown</option>
      </select>
    </div>


    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6">

      <!-- INPUT -->
      <div class="flex flex-col">
        <div class="flex items-center justify-between mb-2">
          <label id="inputType" class="text-sm text-neutral-400">Markdown</label>

          <div class="flex bg-neutral-900 border border-neutral-800 rounded-lg p-1 text-xs">
            <button id="showCode"
              class="px-3 py-1 rounded-md bg-neutral-800">Code</button>
            <button id="showPreview"
              class="px-3 py-1 rounded-md text-neutral-400">Preview</button>
          </div>
        </div>

        <textarea
          id="markdown"
          class="code-font bg-neutral-900 border border-neutral-800 rounded-xl p-4 h-[450px] resize-none focus:outline-none focus:border-neutral-600" placeholder="# Hello World&#10;&#10;- Type or paste your Markdown code here... &#10;&#10;- See the converted HTML on the right!"
          ></textarea>

        <div
          id="preview"
          class="code-font bg-neutral-900 border border-neutral-800 rounded-xl p-4 h-[450px] overflow-auto hidden prose max-w-none">
        </div>
      </div>

      <!-- OUTPUT -->
      <div class="flex flex-col">
        <div class="flex items-center justify-between mb-2">
          <label id="outputType" class="text-sm text-neutral-400">HTML</label>

          <div class="flex items-center gap-3">
            <span id="copySuccess"
              class="text-xs text-green-400 hidden">Copied</span>
            <button id="copyOutputBtn"
              class="text-xs px-3 py-2 rounded-md bg-neutral-900 border border-neutral-800 hover:bg-neutral-800">
              Copy
            </button>
          </div>
        </div>

        <textarea
          id="html"
          readonly
          class="code-font bg-neutral-900 border border-neutral-800 rounded-xl p-4 h-[450px] resize-none focus:outline-none">
        </textarea>
      </div>

    </div>

    <!-- ACTIONS -->
    <div class="flex justify-center gap-4 mt-8">
      <button id="downloadHtml"
        class="bg-white text-black px-5 py-2 rounded-full text-sm font-medium hover:opacity-90 transition">
        Download HTML
      </button>
      <button id="downloadMd"
        class="bg-neutral-900 border border-neutral-800 px-5 py-2 rounded-full text-sm hover:bg-neutral-800 transition">
        Download Markdown
      </button>
      <button id="clearBtn"
        class="bg-neutral-900 border border-neutral-800 px-5 py-2 rounded-full text-sm text-red-400 hover:bg-red-500/10 transition">
        Clear All
      </button>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-teal-300 px-4 py-8 w-full mt-16">
    <div class="text-center text-blue-800 px-4 max-w-7xl mx-auto">
      <p class="flex flex-col md:flex-row justify-center items-center gap-2">
        <span>Made with <i class="fas fa-heart text-red-500 mx-1"></i> by <a href="https://julyw.com" class="text-blue-800 font-semibold hover:underline">July Wu</a>.</span>
        <span>This project is <a href="https://github.com/JLW-7/convert-md---html" class="text-blue-800 font-semibold hover:underline">open source</a>. Please give it a <i class="fas fa-star text-yellow-500 mx-1"></i> and contribute!</span>
      </p>
    </footer>
  </main>

  <!-- SCRIPT -->
  <script>
    const convertDirection = document.getElementById('convertDirection');
    const markdownInput = document.getElementById('markdown');
    const htmlOutput = document.getElementById('html');
    const previewDiv = document.getElementById('preview');
    const showCodeBtn = document.getElementById('showCode');
    const showPreviewBtn = document.getElementById('showPreview');
    const copyOutputBtn = document.getElementById('copyOutputBtn');
    const copySuccess = document.getElementById('copySuccess');
    const clearBtn = document.getElementById('clearBtn');
    const downloadHtmlBtn = document.getElementById('downloadHtml');
    const downloadMdBtn = document.getElementById('downloadMd');
    const inputType = document.getElementById('inputType');
    const outputType = document.getElementById('outputType');

    function updateLabels() {
      if (convertDirection.value === 'md-to-html') {
        inputType.textContent = 'Markdown';
        outputType.textContent = 'HTML';
        markdownInput.placeholder = "# Hello World\n\n" +
        "- Type or paste your Markdown code here...\n" +
        "- See the converted HTML on the right!";
      } else {
        inputType.textContent = 'HTML';
        outputType.textContent = 'Markdown';
        markdownInput.placeholder =
        "<h1>Hello World</h1>\n\n" +
        "<ul>\n" +
        "  <li>Type or paste your HTML code here...</li>\n" +
        "  <li>See the converted Markdown on the right!</li>\n" +
        "</ul>";

      }
    }

    function convert() {
      if (convertDirection.value === 'md-to-html') {
        htmlOutput.value = marked.parse(markdownInput.value);
      } else {
        const td = new TurndownService();
        htmlOutput.value = td.turndown(markdownInput.value);
      }

      if (!previewDiv.classList.contains('hidden')) {
        previewDiv.innerHTML =
          convertDirection.value === 'md-to-html'
            ? marked.parse(markdownInput.value)
            : markdownInput.value;
      }
    }

    convertDirection.onchange = () => {
      updateLabels();
      convert();
    };

    markdownInput.oninput = convert;

    showCodeBtn.onclick = () => {
      showCodeBtn.classList.add('bg-neutral-800');
      showPreviewBtn.classList.remove('bg-neutral-800');
      markdownInput.classList.remove('hidden');
      previewDiv.classList.add('hidden');
    };

    showPreviewBtn.onclick = () => {
      showPreviewBtn.classList.add('bg-neutral-800');
      showCodeBtn.classList.remove('bg-neutral-800');
      markdownInput.classList.add('hidden');
      previewDiv.classList.remove('hidden');
      convert();
    };

    copyOutputBtn.onclick = () => {
      navigator.clipboard.writeText(htmlOutput.value);
      copySuccess.classList.remove('hidden');
      setTimeout(() => copySuccess.classList.add('hidden'), 2000);
    };

    clearBtn.onclick = () => {
      markdownInput.value = '';
      htmlOutput.value = '';
      previewDiv.innerHTML = '';
    };

    downloadHtmlBtn.onclick = () => {
      const blob = new Blob([htmlOutput.value], { type: 'text/html' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'converted.html';
      a.click();
    };

    downloadMdBtn.onclick = () => {
      const blob = new Blob([markdownInput.value], { type: 'text/markdown' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'converted.md';
      a.click();
    };

    // // TAB indentation
    // document.querySelectorAll('textarea').forEach(textarea => {
    //   textarea.addEventListener('keydown', e => {
    //     if (e.key === 'Tab') {
    //       e.preventDefault();
    //       const start = textarea.selectionStart;
    //       const end = textarea.selectionEnd;
    //       textarea.value =
    //         textarea.value.substring(0, start) +
    //         '  ' +
    //         textarea.value.substring(end);
    //       textarea.selectionStart = textarea.selectionEnd = start + 2;
    //     }
    //   });
    // });

    updateLabels();
  </script>
</body>
</html>
